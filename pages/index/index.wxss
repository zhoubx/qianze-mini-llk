/* pages/index/index.wxss */
page { background: #f4f7f6; font-family: "Microsoft YaHei"; }

.container {
  display: block; /* 改为 flex 布局方便撑开高度 */
  flex-direction: column;
  align-items: center;
  padding: 10rpx 15rpx;
  min-height: 100vh;
  box-sizing: border-box; /* 确保 padding 不会撑大宽度 */
}

/* 游戏模式：纯 CSS 背景图案（无需加载图片，极速渲染） */
.container.game-mode {
  /* 底色：接近白色 */
  background-color: #f9faf9;
  /* 斜纹布料质感 */
  background-image: 
    /* 斜条纹 */
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 10rpx,
      rgba(76, 175, 80, 0.06) 10rpx,
      rgba(76, 175, 80, 0.06) 12rpx
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 10rpx,
      rgba(76, 175, 80, 0.04) 10rpx,
      rgba(76, 175, 80, 0.04) 12rpx
    );
}

/* --- 头部横幅图片 --- */
.header { width: 100%; text-align: center; margin-bottom: 10rpx; position: relative; padding-top: 0; margin-left: -15rpx; margin-right: -15rpx; width: calc(100% + 30rpx); }

.banner-box {
  position: relative;
  width: 100%;
}
.header-banner { width: 100%; display: block; }


.music-btn { position: absolute; top: 0; right: 10rpx; width: 50rpx; height: 50rpx; background: #eee; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 26rpx; z-index: 99; }
.music-btn.playing { background: #4a7c59; color: white; animation: rotate 4s linear infinite; }

/* 顶部功能按钮栏 */
.top-actions { 
  width: 100%; 
  display: flex; 
  justify-content: space-between; 
  margin-bottom: 30rpx; 
  margin-top: 30rpx; /* 增加与顶部 banner 的距离 */
  padding: 10rpx, 10rpx; 
  gap: 15rpx; 
}
.action-link {
  flex: 1;
  height: 64rpx; /* 高度改小 */
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 25rpx;
  font-size: 28rpx;
  font-weight: bold;
  text-decoration: none;
  position: relative;
  box-shadow: 0 2rpx 6rpx rgba(0,0,0,0.08);
}

/* 次级按钮（浅色）- 规则 & 奖品 */
.action-link:nth-child(1),
.action-link:nth-child(2) {
  background: linear-gradient(180deg, #f9fbf9 0%, #ebf5ee 100%);
  border: 2rpx solid #a5d6a7;
  color: #2e7d55;
}

/* 点击态：加深底色 */
.action-link:nth-child(1):active,
.action-link:nth-child(2):active {
  background: #c8e6c9; /* 更深的淡绿色 */
  border-color: #81c784;
  color: #1b5e20;
}

/* 进店看看按钮（醒目色 - 暖橙色系） */
.action-link:nth-child(3) {
  background: linear-gradient(180deg, #fff8e1 0%, #ffecb3 100%);
  border: 2rpx solid #ffd54f;
  color: #d84315; /* 深橙红色文字 */
}

.action-link:nth-child(3):active {
  background: #ffe082;
}

/* 模拟左右两侧的金色装饰纹路 */
.action-link::before, .action-link::after {
  content: '';
  position: absolute;
  width: 6rpx;
  height: 6rpx;
  border-radius: 50%;
  top: 50%;
  transform: translateY(-50%);
  opacity: 0.6;
}

/* 规则 & 奖品 的装饰点 */
.action-link:nth-child(1)::before, .action-link:nth-child(1)::after,
.action-link:nth-child(2)::before, .action-link:nth-child(2)::after {
  border: 2rpx solid #a5d6a7;
  background: #e8f5e9;
}

/* 进店看看 的装饰点 */
.action-link:nth-child(3)::before, .action-link:nth-child(3)::after {
  border: 2rpx solid #ffd54f;
  background: #fff9c4;
}

.action-link::before { left: 12rpx; }
.action-link::after { right: 12rpx; }

/* 菜单与游戏区 */
.game-screen { width: 100%; display: flex; flex-direction: column; align-items: center; }

.menu-screen {
  flex: 1; /* 占据剩余高度 */
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* 难度按钮卡片优化 */
.difficulty-card {
  /* 保持上一轮的样式 */
  width: 95%;
  padding: 20rpx 30rpx;
  margin-bottom: 20rpx;
  border-radius: 24rpx;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: white;
  box-shadow: 0 8rpx 20rpx rgba(0,0,0,0.1);
  border: 1px solid rgba(0,0,0,0.02);
  transition: transform 0.1s, box-shadow 0.1s;
}

.difficulty-card:active {
  transform: scale(0.98);
  box-shadow: 0 4rpx 10rpx rgba(0,0,0,0.05);
}

/* 针对不同难度增加微弱的背景色区分，或者边框高亮 */
.diff-easy { background: linear-gradient(to right, #fff, #f1f8e9); border-bottom: 6rpx solid #81c784; }
.diff-med  { background: linear-gradient(to right, #fff, #fff8e1); border-bottom: 6rpx solid #ffb74d; }
.diff-hard { background: linear-gradient(to right, #fff, #ffebee); border-bottom: 6rpx solid #e57373; }

.diff-info {
  display: flex;
  flex-direction: column;
}

.diff-header {
  display: flex;
  align-items: baseline;
  margin-bottom: 6rpx;
  letter-spacing: 1rpx;
}

.diff-title {
  font-size: 34rpx;
  font-weight: bold;
  color: #333;
  margin-right: 8rpx;
  letter-spacing: 4rpx;
}

.diff-desc {
  font-size: 24rpx;
  color: #888;
  letter-spacing: 1rpx;
}

/* 难度标签样式 */
.diff-badge {
  font-size: 21rpx;
  padding: 2rpx 10rpx;
  border-radius: 10rpx;
  font-weight: bold;
  color: white;
  display: inline-block;
  margin-bottom: 4rpx;
  letter-spacing: 3rpx;
}

.badge-easy {
  background: linear-gradient(135deg, #4caf50, #81c784);
  box-shadow: 0 2rpx 4rpx rgba(76, 175, 80, 0.3);
}

.badge-med {
  background: linear-gradient(135deg, #ff9800, #ffb74d);
  box-shadow: 0 2rpx 4rpx rgba(255, 152, 0, 0.3);
}

.badge-hard {
  background: linear-gradient(135deg, #f44336, #e57373);
  box-shadow: 0 2rpx 4rpx rgba(244, 67, 54, 0.3);
}

/* 难度系数样式 */
.diff-multiplier {
  font-size: 24rpx;
  font-weight: bold;
  margin-left: 8rpx;
}

.diff-multiplier.badge-easy {
  color: #4caf50;
  background: none;
  box-shadow: 0 0 0 0;
}

.diff-multiplier.badge-med {
  color: #ff9800;
  background: none;
  box-shadow: 0 0 0 0;
}

.diff-multiplier.badge-hard {
  color: #f44336;
  background: none;
  box-shadow: 0 0 0 0;
}


/* [需求4] 排行榜高度调高 */
.leaderboard-box {
  width: 98%;
  background: white;
  border-radius: 20rpx;
  padding: 18rpx;
  margin-top: 10rpx;
  /* 关键修改：利用 flex: 1 自动撑满剩余空间，或者设定一个较大的高度 */
  flex: 1; 
  min-height: 600rpx; /* 保证最小高度 */
  display: flex;
  flex-direction: column;
  box-shadow: 0 -4rpx 20rpx rgba(0,0,0,0.03); /* 顶部阴影 */
  margin-bottom: 20rpx; /* 底部留白 */
}

.lb-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10rpx;
  border-bottom: 2rpx solid #f0f0f0;
  padding-bottom: 10rpx;
  font-size: 28rpx;
  letter-spacing: 1rpx;
}

.lb-refresh-wrapper {
  display: flex;
  align-items: center;
  gap: 8rpx;
}

.lb-loading-icon {
  font-size: 24rpx;
  display: inline-block;
}

.lb-loading-icon.rotating {
  animation: rotate 1s linear infinite;
}

@keyframes rotate {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

.lb-list {
  flex: 1;
  /* height: 0; */
}
.lb-item {
  display: flex;
  align-items: center;
  padding: 20rpx 0; /* 增加行高 */
  border-bottom: 1rpx dashed #eee;
  font-size: 26rpx;
  padding-right: 10rpx; /* 整体右边距 */
}

.lb-rank { width: 40rpx; font-weight: bold; color: #999; text-align: center; }
.rank-1 { color: #FFD700; font-size: 28rpx; } .rank-2 { color: #C0C0C0; font-size: 28rpx; } .rank-3 { color: #B87333; font-size: 28rpx; }
.lb-info {
  flex: 1;
  margin-left: 10rpx;
}

.lb-name-row {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
}
.lb-avatar {
  width: 60rpx;
  height: 60rpx;
  border-radius:30%;
  margin-right: 8rpx;
  border: 1rpx solid #eee;
}
.lb-name {
  font-weight: bold;
  color: #333;
  margin-right: 10rpx;
  max-width: 220rpx;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

/* 奖品列样式 */
.lb-prize-col {
  width: 240rpx;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-right: 10rpx;
}
.lb-prize-tag { 
  background: linear-gradient(135deg, #ff6b6b, #ff8e53); 
  color: white; 
  font-size: 22rpx; 
  padding: 6rpx 14rpx; 
  border-radius: 20rpx;
  font-weight: bold;
  white-space: nowrap;
  letter-spacing: 1rpx;
}

.lb-time-row { font-size: 20rpx; color: #999; margin-top: 4rpx; }

.lb-score {
  font-weight: bold;
  color: #4a7c59;
  font-size: 30rpx;
  margin-right: 24rpx; /* 增加右边距 */
  min-width: 80rpx;
  text-align: right;
}

/* 游戏区 */
.status-bar { width: 100%; display: flex; justify-content: space-between; padding: 0 40rpx; font-weight: bold; color: #4a7c59; font-size: 32rpx; margin-bottom: 10rpx; box-sizing: border-box; }

/* 洗牌奖励提示 */
.shuffle-toast {
  background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
  color: white;
  padding: 16rpx 32rpx;
  border-radius: 40rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 15rpx;
  box-shadow: 0 6rpx 20rpx rgba(255, 152, 0, 0.4);
  opacity: 0;
  transform: scale(0.8) translateY(20rpx);
  transition: all 0.3s ease-out;
}
.shuffle-toast.visible {
  opacity: 1;
  transform: scale(1) translateY(0);
}
.shuffle-icon {
  font-size: 40rpx;
  margin-right: 12rpx;
  animation: spin 1s linear infinite;
}
.shuffle-text {
  font-size: 32rpx;
  font-weight: bold;
  text-shadow: 0 2rpx 4rpx rgba(0,0,0,0.2);
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.game-board { background: #e8efec; padding: 10rpx; border-radius: 20rpx; display: grid; gap: 6rpx; margin-bottom: 20rpx; position: relative; }
.tile { background-color: white; border: 4rpx solid #cce0d6; border-radius: 10rpx; background-size: cover; background-position: center; transition: all 0.1s; position: relative; }
.tile.selected { border-color: #d4a017; transform: scale(1.1); box-shadow: 0 0 10rpx #d4a017; z-index: 10; }
.tile.matched { opacity: 0; pointer-events: none; transition: opacity 0.3s, transform 0.3s; transform: scale(0); }

/* --- 连线动画样式 --- */
.tile::after {
  content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  width: 0; height: 0; background: #ff5252; opacity: 0; transition: all 0.2s; border-radius: 50%; z-index: 5;
}
.tile.path-highlight::after { width: 60%; height: 60%; opacity: 0.8; box-shadow: 0 0 15rpx #ff5252; }

.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); display: flex; justify-content: center; align-items: center; z-index: 999; }
.modal { 
  background: white; 
  width: 600rpx; 
  padding: 40rpx; 
  border-radius: 30rpx; 
  text-align: center;
  /* 弹窗上移，确保分享截图能截全信息 */
  transform: translateY(-200rpx);
}
.win-header { color: #4a7c59; font-size: 40rpx; font-weight: bold; margin-bottom: 20rpx; }

.prize-alert {
  background: linear-gradient(135deg, #f5f7fa 0%, #ffe5ec 100%);
  border: 2rpx dashed #e57373;
  padding: 24rpx 20rpx;
  border-radius: 24rpx;
  margin: 28rpx 0 16rpx 0;
  box-shadow: 0 4rpx 14rpx 0 rgba(255, 138, 148, 0.08);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12rpx;
}
.prize-alert > .score-display,
.prize-alert > .prize-rank,
.prize-alert > .prize-beizhu,
.prize-alert > .prize-name {
  margin: 0;
  width: 100%;
  text-align: center;
}
.prize-beizhu {
  font-size: 20rpx;
  color: #81a8a4;
  letter-spacing: 0.4px;
}
.prize-rank {
  font-size: 30rpx;
  color: #009788;
  font-weight: bold;
  letter-spacing: 2rpx;
  margin-bottom: 2rpx;
  margin-top: 4rpx;
}
.prize-name {
  color: #d32f2f;
  font-weight: bold;
  font-size: 44rpx;
  letter-spacing: 4rpx;
  margin: 10rpx 0 0 0;
  text-shadow: 0 2rpx 6rpx #fff8;
  font-variant-caps: petite-caps;
}


.score-display { text-align: center; margin-bottom: 20rpx; }
.score-value { font-size: 40rpx; font-weight: bold; color: #4a7c59; }
.score-tip {
  font-size: 24rpx;
  color: #ff9800;
  margin-top: 8rpx;
  font-weight: bold;
}

.input-label {
  font-size: 24rpx;
  color: #666;
  display: block;
  text-align: left;
  margin-bottom: 10rpx;
  letter-spacing: 1rpx;
}


/* 头像选择区域 */
.avatar-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 20rpx;
}

.avatar-wrapper {
  padding: 0;
  width: 80rpx !important;
  height: 80rpx !important;
  border-radius: 50%;
  margin-bottom: 8rpx;
  background-color: #f0f0f0;
  border: 2rpx solid #ddd;
}

.avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
}

.avatar-tip {
  font-size: 22rpx;
  color: #999;
}

/* 昵称输入区域 */
.nickname-section {
  width: 100%;
}

.name-input {
  border: 2rpx solid #ddd;
  padding: 15rpx;
  border-radius: 10rpx;
  margin-bottom: 30rpx;
  text-align: left;
  font-size: 28rpx;
  width: 93%;
}

.btn-primary {
  background: linear-gradient(135deg, #4a7c59, #3a6346);
  color: white;
  border-radius: 50rpx;
  font-weight: bold;
  margin-bottom: 20rpx;
  letter-spacing: 1px;
}
.btn-share-win {
  width: 100%;
  margin-top: 16rpx;
  border: none;
  /* 升级为更具质感的金色渐变，带有金属光泽 */
  background: linear-gradient(90deg, #F2C94C 0%, #F2994A 50%, #F2C94C 100%);
  background-size: 200% auto;
  color: #92400E; /* 深褐色文字，提升可读性与质感 */
  border-radius: 999rpx;
  padding: 12rpx 30rpx;
  letter-spacing: 2rpx;
  position: relative;
  overflow: hidden; /* 限制扫光范围 */
  box-shadow: 0 12rpx 24rpx rgba(242, 153, 74, 0.4);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  /* 使用 shine 动画让背景流动 */
  animation: btnShineMove 4s linear infinite;
}

.btn-share-win:active {
  transform: scale(0.97);
  box-shadow: 0 6rpx 12rpx rgba(242, 153, 74, 0.3);
}

/* 添加一道扫光效果 */
.btn-share-win::after {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.4) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  transform: rotate(30deg) translate(-100%, 0);
  animation: btnGlassShine 3s infinite;
}

.btn-share-content {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16rpx;
  position: relative;
  z-index: 2; /* 确保文字在扫光之上 */
}

.btn-share-icon {
  font-size: 40rpx;
  /* 移除阴影让图标更扁平化适配金色背景 */
}

.btn-share-text {
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-share-label {
  font-size: 32rpx;
  font-weight: 800;
  /* 文字描边增强对比度 */
  text-shadow: 0 2rpx 0px rgba(255, 255, 255, 0.4);
}

@keyframes btnShineMove {
  0% { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

@keyframes btnGlassShine {
  0% { transform: rotate(30deg) translate(-120%, 0); }
  20% { transform: rotate(30deg) translate(120%, 0); }
  100% { transform: rotate(30deg) translate(120%, 0); }
}

.post-submit-modal { max-width: 600rpx; width: 85%; }
.action-buttons { 
  display: flex; 
  flex-wrap: wrap; 
  gap: 24rpx; 
  justify-content: space-between; 
  margin: 40rpx 0; 
}

.action-btn {
  width: 47% !important;
  margin: 0 !important;
  padding: 30rpx 10rpx;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-radius: 24rpx;
  border: none;
  box-shadow: 0 6rpx 16rpx rgba(0,0,0,0.06);
  transition: all 0.2s;
  line-height: 1.4;
  position: relative;
  overflow: hidden;
}

.btn-icon {
  font-size: 52rpx;
  margin-bottom: 12rpx;
  line-height: 1;
}

.btn-text {
  font-size: 30rpx;
  font-weight: bold;
  letter-spacing: 1rpx;
}

.btn-sub {
  font-size: 22rpx;
  margin-top: 6rpx;
  font-weight: normal;
  opacity: 0.9;
}

.continue-btn { 
  background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); 
  color: #1b5e20; 
}

.prizes-btn { 
  background: linear-gradient(135deg, #fff8e1 0%, #ffe0b2 100%); 
  color: #e65100; 
}

.invite-btn { 
  background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 100%); 
  color: #880e4f; 
}
.invite-btn .btn-sub { color: #d81b60; font-weight: bold; background: rgba(255,255,255,0.4); padding: 2rpx 12rpx; border-radius: 10rpx; }

.store-btn { 
  background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); 
  color: #4a148c; 
}

.action-btn:active { 
  transform: scale(0.96); 
  box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.04);
}

.close-btn {
  background: #f5f5f5;
  color: #999;
  font-size: 28rpx;
  border: none;
  border-radius: 40rpx;
  padding: 16rpx 60rpx;
  margin-top: 10rpx;
  width: auto !important;
  display: inline-block;
}