<view class="container">
  <!-- éŸ³ä¹æ§åˆ¶ç»„ä»¶ -->
  <music-control id="musicControl"></music-control>

  <!-- é¡µé¢æ ‡é¢˜æ  -->
  <view class="page-header">
    <view class="header-main">
      <view class="header-icon">ğŸ</view>
      <view class="header-title">æˆ‘çš„å¥–å“</view>
    </view>
    <view class="header-subtitle">
      <text>ç³»ç»Ÿåªä¼šä¿ç•™æ‚¨æ¸¸æˆä¸­é¢†å–åˆ°çš„æœ€é«˜å¥–é¡¹ï¼Œæ ¸é”€ä½¿ç”¨åå¯å†æ¬¡é¢†å–ã€‚</text>
      <text>é‚€è¯·å¥½å‹ä¸€èµ·ç©æ¸¸æˆï¼Œè¿˜å¯é¢å¤–è·å¾—å¥–åŠ±ï¼</text>
    </view>
  </view>

  <view class="list">
    <view wx:if="{{prizes.length===0 && !loading}}" class="empty">æš‚æ— å¥–å“è®°å½•ï¼Œå¿«å»ç©æ¸¸æˆèµ¢å–å§ï¼</view>
    
    <view class="card {{item.status}}" wx:for="{{prizes}}" wx:key="objectId">
      <view class="card-left">
        <view class="row-top">
          <text class="prize-name">{{item.prizeName}}</text>
        </view>
        
        <view class="row-detail">
          <text class="tag">{{item.diffText}}</text>
          <text class="divider">|</text>
          <text class="tag">{{item.timeCost}}s</text>
          <text class="divider">|</text>
          <text class="tag">{{item.rankText}}</text>
          <text class="divider">|</text>
          <text class="score">{{item.score}}åˆ†</text>
        </view>

        <view class="row-time">
          <text>é¢†å–æ—¶é—´ï¼š{{item.createTimeStr}}</text>
        </view>
      </view>

      <view class="card-right">
        <block wx:if="{{item.status === 'pending'}}" >
           <button class="use-btn" bindtap="usePrize" data-id="{{item.objectId}}">æ ¸é”€</button>
        </block>
        <block wx:else>
           <view class="status-info">
             <text class="status-text">{{item.statusText}}</text>
             <view wx:if="{{item.status === 'used'}}" class="redemption-time">
               {{item.redeemedTime ? item.redeemedTimeStr : 'æš‚æ— æ—¶é—´è®°å½•'}}
             </view>
           </view>
        </block>
      </view>
    </view>
  </view>
</view>